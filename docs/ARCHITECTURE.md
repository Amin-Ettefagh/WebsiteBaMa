# معماری پروژه

این پروژه آرشیو HTML قدیمی را به صورت داینامیک در Next.js رندر می‌کند. هسته رندر در فایل‌های زیر پیاده شده است:

## جریان رندر صفحات
1. هر مسیر به `app/[[...slug]]/page.tsx` می‌رسد.
2. تابع `getLegacyPage` در `lib/legacy.ts` فایل HTML متناظر را از آرشیو می‌خواند.
3. `transformLegacyHtml` عملیات زیر را انجام می‌دهد:
- اصلاح لینک‌ها و فرم‌ها برای مسیرهای داخلی
- تبدیل مسیر تصاویر به `public/legacy` یا `public/remote`
- جایگزینی نام سایت با «وبسایته با ما» در متن‌ها و متادیتا
- جایگزینی لوگوها با `/Logo.png`
- اعمال رنگ‌های تم آبی در استایل‌ها و SVGها

## مدیریت فایل‌های استاتیک
- فایل‌های قدیمی در `public/legacy` ذخیره می‌شوند.
- تصاویر خارجی در صورت نیاز با `scripts/sync-remote-assets.js` به `public/remote` دانلود می‌شوند.

## تم و حالت روشن/تاریک
- متغیرهای رنگی در `app/globals.css` تعریف شده‌اند.
- مقدار `data-theme` روی `html` تعیین می‌کند که تم روشن یا تاریک فعال باشد.

## توسعه‌پذیری
- برای اضافه کردن منبع جدید فایل، مسیرها را در `lib/legacy.ts` و اسکریپت‌های `scripts/` توسعه دهید.
- برای تغییر رنگ‌ها، فقط متغیرهای CSS را بروزرسانی کنید.
