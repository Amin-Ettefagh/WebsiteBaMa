# وبسایته با ما

این پروژه نسخه بازسازی شده Next.js از آرشیو HTML قدیمی شماست. تمام صفحات به صورت داینامیک رندر می‌شوند، مسیرها اصلاح شده‌اند، نام سایت به «وبسایته با ما» تغییر کرده، لوگوها با `Logo.png` جایگزین شده‌اند و تم آبی (پیش‌فرض دارک) اعمال شده است.

**پورت پیش‌فرض اجرا:** `3022`

## ویژگی‌ها
- تبدیل آرشیو HTML به رندر داینامیک در Next.js (App Router)
- اصلاح لینک‌ها، فرم‌ها و مسیر تصاویر
- جایگزینی خودکار نام سایت و لوگو
- تم آبی با دارک مود پیش‌فرض و امکان سوییچ به حالت روشن
- پشتیبانی کامل RTL و زبان فارسی
- آماده اجرا با Docker

## پیش‌نیازها
- Node.js نسخه 20 یا بالاتر
- npm
- Docker (اختیاری، برای اجرا با کانتینر)

## شروع سریع با Docker
1. بیلد و اجرا:

```bash
docker compose up --build -d
```

2. باز کردن پروژه در مرورگر:

```text
http://localhost:3022
```

3. مشاهده لاگ‌ها (اختیاری):

```bash
docker compose logs -f
```

## اجرای محلی (بدون Docker)
1. نصب وابستگی‌ها:

```bash
npm install
```

2. همگام‌سازی فایل‌های استاتیک (ضروری):

```bash
npm run sync:assets
```

3. اجرا در حالت توسعه:

```bash
npm run dev
```

4. ساخت و اجرا در حالت پروداکشن:

```bash
npm run build
npm run start
```

## اسکریپت‌ها
- `npm run dev`: اجرای توسعه روی پورت 3022
- `npm run build`: بیلد پروژه
- `npm run start`: اجرای پروداکشن روی پورت 3022
- `npm run sync:assets`: کپی فایل‌های استاتیک قدیمی به `public/legacy`
- `npm run sync:remote`: دانلود تصاویر خارجی (در صورت نیاز)
- `npm run sync:all`: اجرای همزمان همگام‌سازی استاتیک و دانلود تصاویر خارجی

## ساختار پروژه
- `app/`: روتینگ و صفحات Next.js
- `app/[[...slug]]/page.tsx`: رندر داینامیک صفحات قدیمی
- `lib/legacy.ts`: منطق تبدیل HTML، اصلاح لینک‌ها و تصاویر، تم و لوگو
- `lib/site.ts`: تنظیمات نام سایت، توضیحات و اطلاعات تماس
- `public/legacy/`: نسخه کپی‌شده فایل‌های استاتیک قدیمی
- `public/remote/`: تصاویر دانلودشده از منابع خارجی
- `scripts/`: اسکریپت‌های همگام‌سازی فایل‌ها
- `Logo.png`: لوگوی اصلی پروژه (در ریشه)

## تم، رنگ و دارک مود
- دارک مود به صورت پیش‌فرض فعال است.
- برای حالت روشن، مقدار `data-theme` را در `app/layout.tsx` به `light` تغییر دهید.
- رنگ‌های اصلی در `app/globals.css` تعریف شده‌اند (آبی/سفید).

نمونه تغییر تم:

```tsx
<html lang="fa" dir="rtl" data-theme="light">
```

## لوگو و نام سایت
- فایل لوگو باید در ریشه پروژه با نام `Logo.png` قرار داشته باشد.
- اسکریپت `sync:assets` این لوگو را به `public/Logo.png` کپی می‌کند.
- نام سایت و اطلاعات تماس در `lib/site.ts` قابل تغییر است.

## رفع مشکل تصاویر بریک
اگر بعضی تصاویر از منابع خارجی لود نمی‌شوند:

```bash
npm run sync:remote
```

یا برای اجرای کامل:

```bash
npm run sync:all
```

## مستندات تکمیلی
- معماری و منطق رندر: `docs/ARCHITECTURE.md`
- راهنمای دیپلوی و Docker: `docs/DEPLOYMENT.md`
